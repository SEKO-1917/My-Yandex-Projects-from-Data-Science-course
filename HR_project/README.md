## Описание проекта

HR-аналитики помогают бизнесу управлять персоналом, используя машинное обучение для быстрого и точного анализа данных. В данном проекте исследуется датасет с информацией о сотрудниках, включая уровень их удовлетворенности работой, полученный через опросники. 

Необходимо построить модели, которые смогут предсказать уровень удовлетворенности и вероятность увольнения сотрудников. Это важно для бизнеса, так как удовлетворенность работой напрямую влияет на отток кадров.

### Задача 1: предсказание уровня удовлетворённости сотрудника

Для этой задачи заказчик предоставил данные с признаками:

- `id` — уникальный идентификатор сотрудника;

- `dept` — отдел, в котором работает сотрудник;

- `level` — уровень занимаемой должности;

- `workload` — уровень загруженности сотрудника;

- `employment_years` — длительность работы в компании (в годах);

- `last_year_promo` — показывает, было ли повышение за последний год;

- `last_year_violations` — показывает, нарушал ли сотрудник трудовой договор за последний год;

- `supervisor_evaluation` — оценка качества работы сотрудника, которую дал руководитель;

- `salary` — ежемесячная зарплата сотрудника;

- `job_satisfaction_rate` — уровень удовлетворённости сотрудника работой в компании, целевой признак.

### Задача 2: предсказание увольнения сотрудника из компании

Данные те же, но целевой признак это `quit` — увольнение сотрудника из компании.

## Используемые библиотеки
*pandas*, *sklearn*, *numpy*, *phik*, *seaborn*

# Общий вывод

***Поставленные задачи:***

1. Построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика. 

2. Построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.

***Этапы работы:***

    - провели исследователский анализ данных в обеих задачах
    - подготовили данные для обучения моделей в обеих задачах
    - подобрали лучшие модели для каждой задачи

***Выводы и дополнительные предложения для бизнеса:***

Если значение уровня удовлетворенности сотрудника его работой в компании в 0.5 можно принять за пороговое значение, по которому можно сказать удовлетворен / не удовлетворен, то видим, что:
- в отделе `purchasing` удовлетворены все
- в отделе `technology` не удовлетворены работой только сотрудники в должности `senior` со средним уровнем загруженности
- в отделе `hr` не удовлетворены только `junior`-сотрудники со средней загруженностью
- в отделе `sales` не удовлетворены работой сотрудники в должности `senior` со средним и высоким уровнями загруженности
- в отделе `marketing` не удовлетворены работой сотрудники должности `junior` со средней и высокой загруженностями, сотрудники с должностью `middle` со средним уровнем загруженности, а так же `senior` с низким и средним уровнями загруженности

Также, если поделить сотрудников по порогу в 0.5 и построить для обеих групп свою инфографику (см. Приложение), как в начале этого шага, то для обоих групп выясняется следующее:

- удовлетворенным сотрудникам более чем в два раза чаще давали повышение за последний год, чем неудовлетворенным (4.03% vs 1.66%)
- удовлетворенные сотрудники почти в 5 раз реже нарушали трудовой договор, чем неудовлетворенные
- оценки качества работы удовлетворенных сотрудников, которые дал руководитель, тоже заметно отличаются: "отличников" в 9 раз больше, "хорошистов" в 8 больше, "троишников" в 6 раз меньше, а сотрудников с неудовлетворительным качеством работы в 12 раз меньше, чем у неудовлетворенных сотрудников
- длительность работы в компании у удовлетворенных сотрудников в среднем больше на полгода
- ежемесячная зарплата удовлетворенного работой сотрудника в среднем больше на 2400

- "отличников" (оценка руководителя = 5) ***у не уволившихся*** сотрудников в три раза больше, "хорошистов" - почти в два раза. Тогда как среди уволившихся почти в два раза больше "троешников", как и сотрудников с неудовлетворительным качеством работы
- среди уволившихся сотрудников нарушали трудовой договор за последний год почти в 2 раза чаще
- в 43 раза чаще давали повышение сотрудникам, которые по итогу остались
- из уволившихся всего 1.51% - сотрудники должности "senior", тогда как "middle" сотрудников - 9.57%, и 88.92% - "junior"
- оставшиеся сотрудники работали больше - средняя и высокая загруженность сотрудника встречались заметно чаще (56.75% и 19.25% соответственно против 43.26% и 10.73 у уволившихся)
- зарплаты оставшихся сотрудников в среднем на 14 едениц больше, чем у уволившихся (медианная зарплата больше на 12 едениц)
- медианное значение стажа работы среди уволившихся равно 1 году, среди оставшихся - 4
- оставшиеся сотрудники более удовлетворены работой в компании, чем ушедшие (у первых медиана оценки равна 0.66, у вторых равна 0.36)
- инфографика по тестовым данным не существенно отличается от инфографики по тренировочным данным.
- мультиколлинеарность не наблюдаем
- наблюдаем заметные корреляции целевого признака с `employment_years`, `salary` и `job_satisfaction_rate`

В первой задаче лучше всего справилась модель 
```python
{'models': DecisionTreeRegressor(random_state=42),
 'models__max_depth': None,
 'models__min_samples_leaf': 1,
 'models__min_samples_split': 8,
 'preprocessor__num': MinMaxScaler()}
 ```
Метрика SMAPE на тестовой выборке равна: 13.6 %

Во второй задаче:

- Лучшая модель: 
```python
'preprocessor__num': StandardScaler(),
 'models__max_features': 11,
 'models__max_depth': 5,
 'models': DecisionTreeClassifier(random_state=42)
```

- Метрика ROC-AUC на тестовой выборке: 0.92

Вполне возможно, что это обусловлено тем, что DecisionTreeRegressor и DecisionTreeClassifier с кластеризированными данными и с нелинейными отношениями в данных работают лучше, чем линейная и логистическая регрессии, которые сильно зависят от наличия линейных зависимостей в данных.

***Дополнительные предложения для бизнеса:***
- узнать причины низкой эффективности уволившихся сотрудников (почему преобладают низкие значения оценок их руководителей) и частых нарушений трудового договора
- рассмотреть идею повышения зарплат некоторым группам сотрудников, так как это может быть одной из причин их недовольства работой в компании
- рассмотреть идею о дополнительных повышениях некоторых сотрудников, так как некоторым важно двигаться по карьерной лестнице, невозможность чего может вылиться в недовольство работой в компании, и стать причиной для поиска новой работы
